(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8022:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return B},default:function(){return H}});var r=t(5893),s=t(7757),a=t.n(s),c=t(18),o=t(2137),i=t(9008),l=t(827),u=t(2465),m=t(6829),f=t(5136),h=t(831),p=t(5908),d=t(2527),x=t(3984);function w(){var e=(0,u.Z)(["\n        query Memes {\n          memeCollection(limit:",", skip:","){\n            items {\n              sys {\n                id\n              }\n              meme {\n                title\n                url\n                width\n                height\n              }\n            }\n            total\n          }\n        }\n      "]);return w=function(){return e},e}function v(){var e=(0,u.Z)(["\n        query Jokes {\n          jokeCollection(limit:",", skip:",") {\n            items {\n              content\n              sys {\n                id\n              }\n            }\n            total\n          }\n        }\n      "]);return v=function(){return e},e}var j=(0,f.L)({uri:"https://graphql.contentful.com/content/v1/spaces/".concat("f6w4zxtc2dol"),headers:{authorization:"Bearer ".concat("XH4JhB_ZA8AsuWUr6B243k4k9LR7nVoEPkE41hS3Huo"),"Content-Language":"en-us"}}),y=(0,x.q)((function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.forEach((function(e){var n=e.message,t=e.locations,r=e.path;return console.log("[GraphQL error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(r))})),t&&console.log("[Network error]: ".concat(t))})),k=new h.f({cache:new p.h,link:(0,m.from)([y,j])});function b(){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(a().mark((function e(){var n,t,r,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:0,e.prev=1,e.next=4,k.query({query:(0,d.ZP)(v(),2,2*n)});case 4:return t=e.sent,r=t.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function N(){return _.apply(this,arguments)}function _(){return(_=(0,o.Z)(a().mark((function e(){var n,t,r,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:0,e.prev=1,e.next=4,k.query({query:(0,d.ZP)(w(),2,2*n)});case 4:return t=e.sent,r=t.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var Z=t(8456),C=t.n(Z),E=function(e){var n=e.content;return(0,r.jsx)("article",{className:"block-shadow bg-white p-10 mb-8",children:(0,r.jsx)(C(),{children:n})})},S=function(e){var n=e.meme;return(0,r.jsx)("article",{className:"block-shadow bg-white p-4 mb-8",children:(0,r.jsx)("img",{src:n.url})})},q=t(6814),P=function(e){return(0,q.Z)(e),(0,r.jsx)("div",{className:"triangle-container",children:(0,r.jsx)("div",{className:"decorative-triangle"})})},L=function(e){return(0,q.Z)(e),(0,r.jsx)("div",{className:"circle"})},J=function(){return(0,r.jsxs)("header",{className:"flex flex-col items-center p-10",children:[(0,r.jsxs)("div",{className:"max-w-md px-16 md:px-20 py-2 mb-10 block-shadow yellow-shadow bg-white",children:[(0,r.jsx)("h1",{className:"tracking-widest",children:"sammiememes"}),(0,r.jsx)(P,{}),(0,r.jsx)(L,{})]}),(0,r.jsx)("p",{children:"A curated library of horrible jokes and my favourite memes"})]})},A=t(7294),B=!0,H=function(e){var n=e.items,t=e.error,s=e.totalJokePages,u=e.totalMemePages,m=(0,A.useState)(1),f=m[0],h=m[1],p=(0,A.useState)(1),d=p[0],x=p[1],w=(0,A.useState)(1),v=w[0],j=w[1],y=(0,A.useState)(n),k=y[0],g=y[1],_=function(){var e=(0,o.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(d);case 2:n=e.sent,t=n.jokeCollection,g((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(t.items))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(v);case 2:n=e.sent,t=n.memeCollection,g((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(t.items))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:"bg-purple bg-opacity-100 h-screen overflow-y-scroll flex flex-col",children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:"Horrible Jokes "}),(0,r.jsx)("meta",{name:"description",content:"A curated library of Sammie's favourite horrible jokes and memes"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inconsolata",rel:"stylesheet"})]}),(0,r.jsx)(J,{}),(0,r.jsxs)("main",{className:"md:mx-auto px-4 flex flex-1 flex-col max-w-6xl",children:[t?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-4xl mb-3",children:"Sorry something went wrong!"}),(0,r.jsx)("p",{className:"text-4xl mb-2",children:"\ud83d\ude48\ud83d\ude4f\ud83d\ude30"}),(0,r.jsx)("p",{children:t})]}):(0,r.jsx)(l.Z,{breakpointCols:{default:3,700:2,500:1},className:"masonry",columnClassName:"masonry-column",children:k.map((function(e){return"Joke"===e.__typename?(0,r.jsx)(E,{content:e.content,sys:e.sys},e.sys.id):(0,r.jsx)(S,{meme:e.meme,sys:e.sys},e.sys.id)}))}),(f<u||f<s)&&(0,r.jsx)("button",{className:"block-shadow max-w-sm w-full py-2 mx-auto mb-5 bg-yellow justify-center focus:outline-none\tcursor-pointer",onClick:function(){(f<s||f<u)&&h((function(e){return e+1})),f<s&&(x((function(e){return e+1})),_()),f<u&&(j((function(e){return e+1})),Z())},children:"Load more"})]}),(0,r.jsxs)("footer",{className:"text-center m-4",children:["Built with \u2764\ufe0f by"," ",(0,r.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://sammiepls.github.io",children:(0,r.jsx)("span",{className:"font-black",children:"Sammie"})}),"."]})]})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8022)}])}},function(e){e.O(0,[774,562,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);