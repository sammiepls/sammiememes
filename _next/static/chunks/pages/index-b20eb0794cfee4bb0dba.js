(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5441:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return G},default:function(){return H}});var r=t(5893),s=t(7757),o=t.n(s),c=t(18),a=t(2137),i=t(7294),l=t(9008),u=t(827),m=t(8456),f=t.n(m),h=function(e){var n=e.content;return(0,r.jsx)("article",{className:"block-shadow bg-white p-10 mb-8",children:(0,r.jsx)(f(),{children:n})})},d=function(e){var n=e.meme;return(0,r.jsx)("article",{className:"block-shadow bg-white p-4 mb-8",children:(0,r.jsx)("img",{src:n.url})})},p=t(6814),x=function(e){return(0,p.Z)(e),(0,r.jsx)("div",{className:"triangle-container",children:(0,r.jsx)("div",{className:"decorative-triangle"})})},j=function(e){return(0,p.Z)(e),(0,r.jsx)("div",{className:"circle"})},k=function(){return(0,r.jsxs)("header",{className:"flex flex-col items-center p-10",children:[(0,r.jsxs)("div",{className:"max-w-md px-16 md:px-20 py-2 mb-10 block-shadow yellow-shadow bg-white",children:[(0,r.jsx)("h1",{className:"tracking-widest",children:"sammiememes"}),(0,r.jsx)(x,{}),(0,r.jsx)(j,{})]}),(0,r.jsx)("p",{children:"A curated library of horrible jokes and my favourite memes"})]})},v=function(e){return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-4xl mb-3",children:"Sorry something went wrong!"}),(0,r.jsx)("p",{className:"text-4xl mb-2",children:"\ud83d\ude48\ud83d\ude4f\ud83d\ude30"}),(0,r.jsx)("p",{children:e})]})},w=function(e){var n=e.filter,t=e.setFilter;return(0,r.jsxs)("div",{className:"border-t-4 border-b-4 flex justify-around p-4 mb-6",children:[(0,r.jsx)("button",{onClick:function(){return t("joke")},className:"focus:outline-none ".concat("joke"===n&&"line-through"),children:"Give me the awful jokes"}),(0,r.jsx)("button",{onClick:function(){return t("meme")},className:"focus:outline-none ".concat("meme"===n&&"line-through"),children:"Take me to the memes"})]})},y=t(2465),b=t(6829),g=t(5136),N=t(831),_=t(5908),Z=t(2527),C=t(3984);function S(){var e=(0,y.Z)(["\n        query Memes {\n          memeCollection(limit:",", skip:","){\n            items {\n              sys {\n                id\n              }\n              meme {\n                title\n                url\n                width\n                height\n              }\n            }\n            total\n          }\n        }\n      "]);return S=function(){return e},e}function E(){var e=(0,y.Z)(["\n        query Jokes {\n          jokeCollection(limit:",", skip:",") {\n            items {\n              content\n              sys {\n                id\n              }\n            }\n            total\n          }\n        }\n      "]);return E=function(){return e},e}var q=(0,g.L)({uri:"https://graphql.contentful.com/content/v1/spaces/".concat("f6w4zxtc2dol"),headers:{authorization:"Bearer ".concat("XH4JhB_ZA8AsuWUr6B243k4k9LR7nVoEPkE41hS3Huo"),"Content-Language":"en-us"}}),P=(0,C.q)((function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.forEach((function(e){var n=e.message,t=e.locations,r=e.path;return console.log("[GraphQL error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(r))})),t&&console.log("[Network error]: ".concat(t))})),L=new N.f({cache:new _.h,link:(0,b.from)([P,q])});function J(){return A.apply(this,arguments)}function A(){return(A=(0,a.Z)(o().mark((function e(){var n,t,r,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:0,e.prev=1,e.next=4,L.query({query:(0,Z.ZP)(E(),2,2*n)});case 4:return t=e.sent,r=t.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function B(){return M.apply(this,arguments)}function M(){return(M=(0,a.Z)(o().mark((function e(){var n,t,r,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:0,e.prev=1,e.next=4,L.query({query:(0,Z.ZP)(S(),2,2*n)});case 4:return t=e.sent,r=t.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var G=!0,H=function(e){var n=e.items,t=e.error,s=e.totalJokePages,m=e.totalMemePages,f=(0,i.useState)(1),p=f[0],x=f[1],j=(0,i.useState)(1),y=j[0],b=j[1],g=(0,i.useState)(1),N=g[0],_=g[1],Z=(0,i.useState)(n),C=Z[0],S=Z[1],E=(0,i.useState)("all"),q=E[0],P=E[1],L=function(){var e=(0,a.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(y);case 2:n=e.sent,t=n.jokeCollection,S((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(t.items))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(N);case 2:n=e.sent,t=n.memeCollection,S((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(t.items))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:"bg-purple bg-opacity-100 h-screen overflow-y-scroll flex flex-col",children:[(0,r.jsxs)(l.default,{children:[(0,r.jsx)("title",{children:"Horrible Jokes "}),(0,r.jsx)("meta",{name:"description",content:"A curated library of Sammie's favourite horrible jokes and memes"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inconsolata",rel:"stylesheet"})]}),(0,r.jsx)(k,{}),(0,r.jsxs)("main",{className:"md:mx-auto px-4 flex flex-1 flex-col max-w-6xl",children:[(0,r.jsx)(w,{filter:q,setFilter:function(e){P(e===q?"all":e)}}),t?(0,r.jsx)(v,{error:t}):(0,r.jsx)(u.Z,{breakpointCols:{default:3,700:2,500:1},className:"masonry",columnClassName:"masonry-column",children:C.filter((function(e){if("joke"===q){if("Joke"===e.__typename)return e}else{if("meme"!==q)return e;if("Meme"===e.__typename)return e}})).map((function(e){return"Joke"===e.__typename?(0,r.jsx)(h,{content:e.content,sys:e.sys},e.sys.id):(0,r.jsx)(d,{meme:e.meme,sys:e.sys},e.sys.id)}))}),(p<m||p<s)&&(0,r.jsx)("button",{className:"block-shadow max-w-sm w-full py-2 mx-auto mb-5 bg-yellow justify-center focus:outline-none\tcursor-pointer",onClick:function(){(p<s||p<m)&&x((function(e){return e+1})),p<s&&(b((function(e){return e+1})),L()),p<m&&(_((function(e){return e+1})),A())},children:"Load more"})]}),(0,r.jsxs)("footer",{className:"text-center m-4",children:["Built with \u2764\ufe0f by"," ",(0,r.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://sammiepls.github.io",children:(0,r.jsx)("span",{className:"font-black",children:"Sammie"})}),"."]})]})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5441)}])}},function(e){e.O(0,[774,562,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);